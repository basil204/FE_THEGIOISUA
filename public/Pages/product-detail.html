<div ng-controller="ProductDetailController">
  <section class="breadcrumb-section pt-0">
    <div class="container-fluid-lg">
      <div class="row">
        <div class="col-12">
          <div class="breadcrumb-contain">
            <h2>
              {{ (product.milktypename + " " + product.milkbrandname) || 'Sản
              phẩm không tồn tại' }}
            </h2>
            <nav>
              <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item">
                  <a href="index.html">
                    <i class="fa-solid fa-house"></i>
                  </a>
                </li>

                <li class="breadcrumb-item active">
                  {{ (product.milktypename + " " + product.milkbrandname) ||
                  'Sản phẩm không tồn tại' }}
                </li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="product-section">
    <div class="container-fluid-lg">
      <div class="row">
        <div class="col-xxl-9 col-xl-8 col-lg-7 wow fadeInUp">
          <div class="row g-4">
            <div class="col-xl-6 wow fadeInUp">
              <div class="product-left-box">
                <div class="row g-2">
                  <div
                    class="col-xxl-10 col-lg-12 col-md-10 order-xxl-2 order-lg-1 order-md-2"
                  >
                    <div class="product-main-2 no-arrow">
                      <div>
                        <div class="slider-image">
                          <img
                            ng-src="{{ productDetails.imgURL || 'https://inoxcongsang.com/wp-content/uploads/2020/08/icon-hang-tam-het.jpg' }}"
                            id="img-1"
                            data-zoom-image="../assets/images/product/category/1.jpg"
                            class="img-fluid image_zoom_cls-0 blur-up lazyload"
                            alt=""
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-xl-6 wow fadeInUp" data-wow-delay="0.1s">
              <div class="right-box-contain">
                <h2 class="name">
                  {{ (product.milktypename + " " + product.milkbrandname) ||
                  'Sản phẩm không tồn tại' }}
                </h2>
                <div class="price-rating">
                  <h3 class="theme-color price">
                    Giá: {{priceMilkDetail}} VNĐ
                  </h3>
                  <div class="product-rating custom-rate">
                    <ul class="rating">
                      <li>
                        <i data-feather="star" class="fill"></i>
                      </li>
                      <li>
                        <i data-feather="star" class="fill"></i>
                      </li>
                      <li>
                        <i data-feather="star" class="fill"></i>
                      </li>
                      <li>
                        <i data-feather="star" class="fill"></i>
                      </li>
                      <li>
                        <i data-feather="star"></i>
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="product-contain">
                  Số lượng: {{stockquantityMilkDetail}}
                </div>
                <div class="form-container">
                  <div class="form-group">
                    <label for="flavor-select"><strong>Vị:</strong></label>
                    <select
                      id="flavor-select"
                      ng-model="selectedFlavor"
                      ng-change="onPackagingUnitChange()"
                      class="styled-select"
                    >
                      <option
                        ng-repeat="flavor in flavors"
                        ng-value="flavor.id"
                        class="option-flavor"
                      >
                        {{ flavor.milktastename }}
                      </option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="capacity-select"
                      ><strong>Dung Tích:</strong></label
                    >
                    <select
                      id="capacity-select"
                      ng-model="selectedUsageCapacity"
                      ng-change="onPackagingUnitChange()"
                      class="styled-select"
                    >
                      <option
                        ng-repeat="capacity in usageCapacities"
                        ng-value="capacity.id"
                        class="option-capacity"
                      >
                        {{ capacity.capacity }} {{ capacity.unit }}
                      </option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="packaging-select"
                      ><strong>Đóng Gói:</strong></label
                    >
                    <select
                      id="packaging-select"
                      ng-model="selectedPackagingUnit"
                      ng-change="onPackagingUnitChange()"
                      class="styled-select"
                    >
                      <option
                        ng-repeat="unit in packagingUnits"
                        ng-value="unit.id"
                        class="option-packaging"
                      >
                        {{ unit.packagingunitname }}
                      </option>
                    </select>
                  </div>
                </div>

                <style>
                  .form-container {
                    display: flex;
                    gap: 20px;
                  }

                  .form-group {
                    margin-bottom: 20px;
                    flex: 1;
                  }

                  label {
                    font-weight: bold;
                    display: block;
                    margin-bottom: 5px;
                    font-size: 14px;
                    color: #333;
                  }

                  .styled-select {
                    width: 100%;
                    padding: 10px;
                    font-size: 14px;
                    border: 1px solid #ccc;
                    border-radius: 4px;
                    box-sizing: border-box;
                    background-color: #fff;
                    transition: border-color 0.3s ease-in-out;
                    height: 40px;
                    background-image: url('data:image/svg+xml;charset=UTF-8,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4 5"%3E%3Cpath fill="%23000" d="M2 0L0 2h4z"/%3E%3C/svg%3E');
                    background-repeat: no-repeat;
                    background-position: right 10px top 50%;
                    background-size: 10px;
                    appearance: none;
                  }

                  .styled-select:focus {
                    outline: none;
                    border-color: #007bff;
                  }

                  .option-flavor {
                    color: #e74c3c;
                  }

                  .option-capacity {
                    color: #f39c12;
                  }

                  .option-packaging {
                    color: #3498db;
                  }

                  strong {
                    font-size: 16px;
                  }
                </style>

                <div class="note-box product-package">
                  <div
                    class="quantity-container d-flex align-items-center w-50"
                  >
                    <!-- Giảm số lượng -->
                    <button
                      class="btn btn-sm btn-outline-secondary"
                      ng-click="orderQuantity = orderQuantity > 1 ? orderQuantity - 1 : 1"
                      ng-disabled="orderQuantity <= 1"
                    >
                      -
                    </button>

                    <!-- Số lượng -->
                    <input
                      type="number"
                      class="form-control text-center quantity-input"
                      ng-model="orderQuantity"
                      ng-disabled="stockquantityMilkDetail < 1"
                      min="1"
                      max="{{stockquantityMilkDetail}}"
                      value="1"
                      placeholder="Nhập số lượng"
                    />

                    <!-- Tăng số lượng -->
                    <button
                      class="btn btn-sm btn-outline-secondary"
                      ng-click="orderQuantity = orderQuantity < stockquantityMilkDetail ? orderQuantity + 1 : stockquantityMilkDetail"
                      ng-disabled="orderQuantity >= stockquantityMilkDetail"
                    >
                      +
                    </button>
                  </div>
                  <div
                    class="quantity-container d-flex align-items-center w-50"
                  >
                    <button
                      class="btn btn-md bg-dark cart-button text-white w-100"
                      ng-click="oderProduct(
                                            productDetails.milkDetailID,
                                             orderQuantity,
                                             selectedFlavor,
                                             selectedUsageCapacity,
                                             selectedPackagingUnit)"
                    >
                      Add To Cart
                    </button>
                  </div>
                </div>
                <div class="payment-option">
                  <div class="product-title">
                    <h4>Đảm bảo thanh toán an toàn</h4>
                  </div>
                  <ul>
                    <li>
                      <a href="javascript:void(0)">
                        <img
                          src="../assets/images/product/payment/1.svg"
                          class="blur-up lazyload"
                          alt=""
                        />
                      </a>
                    </li>
                    <li>
                      <a href="javascript:void(0)">
                        <img
                          src="../assets/images/product/payment/2.svg"
                          class="blur-up lazyload"
                          alt=""
                        />
                      </a>
                    </li>
                    <li>
                      <a href="javascript:void(0)">
                        <img
                          src="../assets/images/product/payment/3.svg"
                          class="blur-up lazyload"
                          alt=""
                        />
                      </a>
                    </li>
                    <li>
                      <a href="javascript:void(0)">
                        <img
                          src="../assets/images/product/payment/4.svg"
                          class="blur-up lazyload"
                          alt=""
                        />
                      </a>
                    </li>
                    <li>
                      <a href="javascript:void(0)">
                        <img
                          src="../assets/images/product/payment/5.svg"
                          class="blur-up lazyload"
                          alt=""
                        />
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-xxl-3 col-xl-4 col-lg-5 d-none d-lg-block wow fadeInUp">
          <div class="right-sidebar-box">
            <div class="vendor-box">
              <div class="vendor-contain">
                <div class="vendor-image">
                  <!-- <img src="../assets/images/product/vendor.png" class="blur-up lazyload" alt=""> -->
                </div>

                <div class="vendor-name">
                  <h5 class="fw-500">{{product.milkbrandname}}</h5>
                </div>
              </div>

              <div class="vendor-list">
                <!-- <ul>
                                    <li>
                                        <div class="address-contact">
                                            <i data-feather="map-pin"></i>
                                            <h5>Address: <span class="text-content">1288 Franklin Avenue</span></h5>
                                        </div>
                                    </li>

                                    <li>
                                        <div class="address-contact">
                                            <i data-feather="headphones"></i>
                                            <h5>Contact Seller: <span class="text-content">(+1)-123-456-789</span></h5>
                                        </div>
                                    </li>
                                </ul> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
